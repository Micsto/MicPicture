-- Create A database named MicPictureDB and run this to the digram of the database. 
USE MicPictureDB;

IF NOT EXISTS(SELECT * FROM sysdiagrams WHERE [name] = 'DiagFull')
	BEGIN
		DECLARE @SourceDiagramId int = 1;

		INSERT INTO dbo.sysdiagrams
			([name]
			,[principal_id]
			,[version]
			,[definition]
			)
		VALUES ('DiagFull'
			,1
			,1
			,CAST(0xD0CF11E0A1B11AE1000000000000000000000000000000003E000300FEFF0900060000000000000000000000010000000100000000000000001000000200000001000000FEFFFFFF0000000000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFDFFFFFF0B000000FEFFFFFF0400000005000000060000000700000008000000090000000A0000000C000000FEFFFFFF0D0000000E0000000F000000100000001100000012000000FEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF52006F006F007400200045006E00740072007900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000016000500FFFFFFFFFFFFFFFF020000000000000000000000000000000000000000000000000000000000000070238980520BD10103000000401D0000000000006600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000201FFFFFFFFFFFFFFFFFFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000016030000000000006F000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040002010100000004000000FFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000D000000E20B000000000000010043006F006D0070004F0062006A0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000201FFFFFFFFFFFFFFFFFFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000003D0000005F000000000000000100000002000000030000000400000005000000060000000700000008000000090000000A0000000B0000000C000000FEFFFFFF0E0000000F000000100000001100000012000000130000001400000015000000160000001700000018000000190000001A0000001B0000001C0000001D0000001E0000001F000000200000002100000022000000230000002400000025000000260000002700000028000000290000002A0000002B0000002C0000002D0000002E0000002F000000300000003100000032000000330000003400000035000000360000003700000038000000390000003A0000003B0000003C000000FEFFFFFF3E000000FEFFFFFF400000004100000042000000430000004400000045000000460000004700000048000000490000004A0000004B0000004C0000004D0000004E0000004F000000500000005100000052000000530000005400000055000000560000005700000058000000590000005A0000005B0000005C0000005D0000005E0000005F00000060000000610000006200000063000000640000006500000066000000FEFFFFFFFEFFFFFF690000006A0000006B0000006C0000006D0000006E0000006F00000070000000710000007200000073000000FEFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000434000A1E500C050000800A0000000F00FFFF500000000A000000007D0000F1660000C14E00007B7E00003F6000002895FFFF0293FFFFDE805B10F195D011B0A000AA00BDCB5C0000080030000000000200000300000038002B00000009000000D9E6B0E91C81D011AD5100A0C90F5739F43B7F847F61C74385352986E1D552F8A0327DB2D86295428D98273C25A2DA2D00002C0043200000000000000000000053444DD2011FD1118E63006097D2DF4834C9D2777977D811907000065B840D9C00002C0043200000000000000000000051444DD2011FD1118E63006097D2DF4834C9D2777977D811907000065B840D9C080000001C0200000088010000002C00A509000007000080010000009A02000000800000040000805363684772696489E6B0FFFF8CBFFFFF5573657200003800A50900000700008003000000AC020000008000000D000080536368477269648920D1FFFF8CBFFFFF5573657247726F75704974656D05000000003000A509000007000080040000009C02000000800000050000805363684772696400C8CEFFFFDEA9FFFF53636F726569640000007000A50900000700008005000000520000000180000047000080436F6E74726F6C89ACC3FFFFEBC7FFFF52656C6174696F6E736869702027464B5F5573657247726F75704974656D5F5573657227206265747765656E2027557365722720616E6420275573657247726F75704974656D270000002800B50100000700008006000000310000005D00000002800000436F6E74726F6C8948C4FFFF31CAFFFF00007400A50900000700008008000000520000000180000049000080436F6E74726F6C89E9D8FFFF22B2FFFF52656C6174696F6E736869702027464B5F5573657247726F75704974656D5F53636F726527206265747765656E202753636F72652720616E6420275573657247726F75704974656D27007D0000002800B50100000700008009000000310000005F00000002800000436F6E74726F6C00D9CBFFFF83B9FFFF00003000A5090000070000800A000000A002000000800000070000805363684772696400A8B2FFFF8EAEFFFF50696374757265000000000000000000000000000000000000000000000000000000000000000000000000000000000000002143341208000000F2130000FB0A0000785634120700000014010000550073006500720000004A002020B612A0AD4F00205DBF1234BA4F000E000000050000000A0000000A000000020000000B000400439C000000000000000000000000000000000000F8DF195D90E543000000000000000000B4E0195D0000000090E543000000000000000000000000000B0000000B0000000B0000000B0000000B0000000B000000000000001B0000008000000004000000DCAFD31210E2195D00000000184D185D0000000038E6430038E6430000000000184D185D000000004CE643004CE643000000000000000000144B185D00000000204B185D000000000000000000000000000000000000000000000000000000000100000005000000540000002C0000002C0000002C000000340000000000000000000000A7290000DD230000000000002D0100000D0000000C000000070000001C010000F70800005307000094020000390300003A020000DD040000DD040000EE020000DD04000036060000380400000000000001000000F2130000FB0A000000000000020000000200000002000000020000001C010000F70800000000000001000000F21300000804000000000000000000000000000002000000020000001C010000F70800000100000000000000F21300000804000000000000000000000000000002000000020000001C010000F7080000000000000000000055320000DD23000000000000000000000D00000004000000040000001C010000F70800009B0A00008106000078563412040000005200000001000000010000000B000000000000000100000002000000030000000400000005000000060000000700000008000000090000000A00000004000000640062006F0000000500000055007300650072000000214334120800000066120000910D00007856341207000000140100005500730065007200470072006F00750070004900740065006D0000002E0046006F0072006D0073002C002000560065007200730069006F006E003D0034002E0030002E0030002E0030002C002000430075006C0074007500720065003D006E00650075007400720061006C002C0020005000750062006C00690063004B006500790054006F006B0065006E003D00620037003700610035006300350036003100390033003400650030003800390000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000005000000540000002C0000002C0000002C0000003400000000000000000000001126000012210000000000002D0100000D0000000C000000070000001C010000160800009F06000094020000390300003A02000065040000DD040000EE020000DD0400003606000038040000000000000100000066120000910D000000000000030000000300000002000000020000001C010000340800000000000001000000661200000804000000000000000000000000000002000000020000001C010000160800000100000000000000661200000804000000000000000000000000000002000000020000001C010000160800000000000000000000E42D00001224000000000000000000000D00000004000000040000001C010000160800008D090000DC05000078563412040000006400000001000000010000000B000000000000000100000002000000030000000400000005000000060000000700000008000000090000000A00000004000000640062006F0000000E0000005500730065007200470072006F00750070004900740065006D000000214334120800000066120000FB0A0000785634120700000014010000530063006F0072006500000000002000560065007200730069006F006E003D0032002E0030002E0030002E0030002C002000430075006C0074007500720065003D006E00650075007400720061006C002C0020005000750062006C00690063004B006500790054006F006B0065006E003D0062003700370061003500630035003600310039003300340065003000380039000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000005000000540000002C0000002C0000002C0000003400000000000000000000002326000012240000000000002D0100000D0000000C000000070000001C010000160800009F06000094020000390300003A02000065040000DD040000EE020000DD0400003606000038040000000000000100000066120000FB0A000000000000020000000200000002000000020000001C010000160800000000000001000000661200000804000000000000000000000000000002000000020000001C010000160800000100000000000000661200000804000000000000000000000000000002000000020000001C010000160800000000000000000000E42D00001224000000000000000000000D00000004000000040000001C010000160800008D090000DC05000078563412040000005400000001000000010000000B000000000000000100000002000000030000000400000005000000060000000700000008000000090000000A00000004000000640062006F00000006000000530063006F0072006500000002000B00D8C4FFFF82C9FFFF20D1FFFF82C9FFFF0000000002000000F0F0F0000000000000000000000000000000000001000000060000000000000048C4FFFF31CAFFFF680D00005801000032000000010000020000680D000058010000020000000000FFFFFF000800008001000000150001000000900144420100065461686F6D61150046004B005F005500730065007200470072006F00750070004900740065006D005F00550073006500720002000B0080DAFFFFD9B4FFFF80DAFFFF8CBFFFFF0000000002000000F0F0F00000000000000000000000000000000000010000000900000000000000D9CBFFFF83B9FFFFF80D00005801000032000000010000020000F80D000058010000020000000000FFFFFF000800008001000000150001000000900144420100065461686F6D61160046004B005F005500730065007200470072006F00750070004900740065006D005F00530063006F00720065002143341208000000D90D0000FB0A000078563412070000001401000050006900630074007500720065000000560065007200730069006F006E003D0032002E0030002E0030002E0030002C002000430075006C0074007500720065003D006E00650075007400720061006C002C0020005000750062006C00690063004B006500790054006F006B0065006E003D0062003700370061003500630035003600310039003300340065003000380039000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000005000000540000002C0000002C0000002C000000340000000000000000000000861F0000E50F0000000000002D0100000D0000000C000000070000001C01000064050000BE05000094020000390300003A020000EE020000DD040000EE020000DD04000036060000380400000000000001000000D90D0000FB0A000000000000020000000200000002000000020000001C010000910500000000000001000000D90D00002204000000000000000000000000000002000000020000001C010000640500000100000000000000D90D00002204000000000000000000000000000002000000020000001C01000064050000000000000000000059200000E624000000000000000000000D00000004000000040000001C0100006405000063060000ED03000078563412040000005800000001000000010000000B000000000000000100000002000000030000000400000005000000060000000700000008000000090000000A00000004000000640062006F00000008000000500069006300740075007200650000000000000000000000000000000000000000000000000000000000000000000100FEFF030A0000FFFFFFFF00000000000000000000000000000000170000004D6963726F736F66742044445320466F726D20322E300010000000456D626564646564204F626A6563740000000000F439B2710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C0000002895FFFF0293FFFF0100260000007300630068005F006C006100620065006C0073005F00760069007300690062006C0065000000010000000B0000000300440064007300530074007200650061006D000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000160002000300000006000000FFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000003F000000DC0900000000000053006300680065006D00610020005500440056002000440065006600610075006C0074000000000000000000000000000000000000000000000000000000000026000200FFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000000000000000000000000000000000000000000000000000000670000001600000000000000440053005200450046002D0053004300480045004D0041002D0043004F004E00540045004E0054005300000000000000000000000000000000000000000000002C0002010500000007000000FFFFFFFF00000000000000000000000000000000000000000000000000000000000000000000000068000000CA0200000000000053006300680065006D00610020005500440056002000440065006600610075006C007400200050006F007300740020005600360000000000000000000000000036000200FFFFFFFFFFFFFFFFFFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000007400000012000000000000001E000000000000000000000000000000000000006400000000000000000000000000000000000000000000000000010000000100000000000000000000000000000000000000D00200000600280000004100630074006900760065005400610062006C00650056006900650077004D006F006400650000000100000008000400000031000000200000005400610062006C00650056006900650077004D006F00640065003A00300000000100000008003A00000034002C0030002C003200380034002C0030002C0032003200390035002C0031002C0031003800370035002C0035002C0031003200340035000000200000005400610062006C00650056006900650077004D006F00640065003A00310000000100000008001E00000032002C0030002C003200380034002C0030002C0032003200390035000000200000005400610062006C00650056006900650077004D006F00640065003A00320000000100000008001E00000032002C0030002C003200380034002C0030002C0032003200390035000000200000005400610062006C00650056006900650077004D006F00640065003A00330000000100000008001E00000032002C0030002C003200380034002C0030002C0032003200390035000000200000005400610062006C00650056006900650077004D006F00640065003A00340000000100000008003E00000034002C0030002C003200380034002C0030002C0032003200390035002C00310032002C0032003700310035002C00310031002C0031003600360035000000030000000300000000000000000000000000000000000000D00200000600280000004100630074006900760065005400610062006C00650056006900650077004D006F006400650000000100000008000400000031000000200000005400610062006C00650056006900650077004D006F00640065003A00300000000100000008003A00000034002C0030002C003200380034002C0030002C0032003000370030002C0031002C0031003600390035002C0035002C0031003100320035000000200000005400610062006C00650056006900650077004D006F00640065003A00310000000100000008001E00000032002C0030002C003200380034002C0030002C0032003100300030000000200000005400610062006C00650056006900650077004D006F00640065003A00320000000100000008001E00000032002C0030002C003200380034002C0030002C0032003000370030000000200000005400610062006C00650056006900650077004D006F00640065003A00330000000100000008001E00000032002C0030002C003200380034002C0030002C0032003000370030000000200000005400610062006C00650056006900650077004D006F00640065003A00340000000100000008003E00000034002C0030002C003200380034002C0030002C0032003000370030002C00310032002C0032003400340035002C00310031002C0031003500300030000000040000000400000000000000000000000000000000000000D00200000600280000004100630074006900760065005400610062006C00650056006900650077004D006F006400650000000100000008000400000031000000200000005400610062006C00650056006900650077004D006F00640065003A00300000000100000008003A00000034002C0030002C003200380034002C0030002C0032003000370030002C0031002C0031003600390035002C0035002C0031003100320035000000200000005400610062006C00650056006900650077004D006F00640065003A00310000000100000008001E00000032002C0030002C003200380034002C0030002C0032003000370030000000200000005400610062006C00650056006900650077004D006F00640065003A00320000000100000008001E00000032002C0030002C003200380034002C0030002C0032003000370030000000200000005400610062006C00650056006900650077004D006F00640065003A00330000000100000008001E00000032002C0030002C003200380034002C0030002C0032003000370030000000200000005400610062006C00650056006900650077004D006F00640065003A00340000000100000008003E00000034002C0030002C003200380034002C0030002C0032003000370030002C00310032002C0032003400340035002C00310031002C00310035003000300000000500000005000000000000003C000000016AA76501000000640062006F00000046004B005F005500730065007200470072006F00750070004900740065006D005F00550073006500720000000000000000000000C40200000000060000000600000005000000080000000125D0120825D0120000000000000000AD0F00000100000800000008000000000000003E000000016AA76501000000640062006F00000046004B005F005500730065007200470072006F00750070004900740065006D005F00530063006F007200650000000000000000000000C4020000000009000000090000000800000008000000017EDA12007EDA120000000000000000AD0F00000100000A0000000A00000000000000000000000000000000000000D00200000600280000004100630074006900760065005400610062006C00650056006900650077004D006F006400650000000100000008000400000031000000200000005400610062006C00650056006900650077004D006F00640065003A00300000000100000008003800000034002C0030002C003200380034002C0030002C0031003300380030002C0031002C0031003400370030002C0035002C003700350030000000200000005400610062006C00650056006900650077004D006F00640065003A00310000000100000008001E00000032002C0030002C003200380034002C0030002C0031003400320035000000200000005400610062006C00650056006900650077004D006F00640065003A00320000000100000008001E00000032002C0030002C003200380034002C0030002C0031003300380030000000200000005400610062006C00650056006900650077004D006F00640065003A00330000000100000008001E00000032002C0030002C003200380034002C0030002C0031003300380030000000200000005400610062006C00650056006900650077004D006F00640065003A00340000000100000008003E00000034002C0030002C003200380034002C0030002C0031003300380030002C00310032002C0031003600330035002C00310031002C00310030003000350000000A000000050000000100000003000000630000005C000000080000000400000003000000270000001E000000000000000000000000000000000000000000000000000000000000000000000000000000010003000000000000000C0000000B0000004E61BC00000000000000000000000000000000000000000000000000000000000000000000000000000000000000DBE6B0E91C81D011AD5100A0C90F57390000020020608880520BD1010202000010484500000000000000000000000000000000007E0100004400610074006100200053006F0075007200630065003D0028006C006F00630061006C0029005C00530051004C0045005800500052004500530053003B0049006E0069007400690061006C00200043006100740061006C006F0067003D004D00690063005000690063007400750072006500440042003B0049006E00740065006700720061007400650064002000530065006300750072006900740079003D0054007200750065003B004D0075006C007400690070006C00650041006300740069007600650052006500730075006C00740053006500740073003D00460061006C00730065003B005000610063006B00650074002000530069007A0065003D0034003000390036003B004100700070006C00690063006100740069006F006E0020004E0061006D0065003D0022004D006900630072006F0073006F00660074002000530051004C00200053006500720076006500720020004D0061006E006100670065006D0065006E0074002000530074007500640069006F002200000000800500120000004400690061006700460075006C006C000000000226000A0000005500730065007200000008000000640062006F000000000226001C0000005500730065007200470072006F00750070004900740065006D00000008000000640062006F000000000226000C000000530063006F0072006500000008000000640062006F00000000022400100000005000690063007400750072006500000008000000640062006F00000001000000D68509B3BB6BF2459AB8371664F0327008004E0000007B00310036003300340043004400440037002D0030003800380038002D0034003200450033002D0039004600410032002D004200360044003300320035003600330042003900310044007D000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010003000000000000000C0000000B0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000062885214 AS varbinary(max))
			);

		-- Need to set the "principal_id" to 1 manually.
		UPDATE dbo.sysdiagrams
			SET principal_id = 1;
	END
	ELSE
	BEGIN
		UPDATE [dbo].[sysdiagrams]
			SET [definition] = 0xD0CF11E0A1B11AE1000000000000000000000000000000003E000300FEFF0900060000000000000000000000010000000100000000000000001000000200000001000000FEFFFFFF0000000000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFDFFFFFF0B000000FEFFFFFF0400000005000000060000000700000008000000090000000A0000000C000000FEFFFFFF0D0000000E0000000F000000100000001100000012000000FEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF52006F006F007400200045006E00740072007900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000016000500FFFFFFFFFFFFFFFF020000000000000000000000000000000000000000000000000000000000000070238980520BD10103000000401D0000000000006600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000201FFFFFFFFFFFFFFFFFFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000016030000000000006F000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040002010100000004000000FFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000D000000E20B000000000000010043006F006D0070004F0062006A0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000201FFFFFFFFFFFFFFFFFFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000003D0000005F000000000000000100000002000000030000000400000005000000060000000700000008000000090000000A0000000B0000000C000000FEFFFFFF0E0000000F000000100000001100000012000000130000001400000015000000160000001700000018000000190000001A0000001B0000001C0000001D0000001E0000001F000000200000002100000022000000230000002400000025000000260000002700000028000000290000002A0000002B0000002C0000002D0000002E0000002F000000300000003100000032000000330000003400000035000000360000003700000038000000390000003A0000003B0000003C000000FEFFFFFF3E000000FEFFFFFF400000004100000042000000430000004400000045000000460000004700000048000000490000004A0000004B0000004C0000004D0000004E0000004F000000500000005100000052000000530000005400000055000000560000005700000058000000590000005A0000005B0000005C0000005D0000005E0000005F00000060000000610000006200000063000000640000006500000066000000FEFFFFFFFEFFFFFF690000006A0000006B0000006C0000006D0000006E0000006F00000070000000710000007200000073000000FEFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000434000A1E500C050000800A0000000F00FFFF500000000A000000007D0000F1660000C14E00007B7E00003F6000002895FFFF0293FFFFDE805B10F195D011B0A000AA00BDCB5C0000080030000000000200000300000038002B00000009000000D9E6B0E91C81D011AD5100A0C90F5739F43B7F847F61C74385352986E1D552F8A0327DB2D86295428D98273C25A2DA2D00002C0043200000000000000000000053444DD2011FD1118E63006097D2DF4834C9D2777977D811907000065B840D9C00002C0043200000000000000000000051444DD2011FD1118E63006097D2DF4834C9D2777977D811907000065B840D9C080000001C0200000088010000002C00A509000007000080010000009A02000000800000040000805363684772696489E6B0FFFF8CBFFFFF5573657200003800A50900000700008003000000AC020000008000000D000080536368477269648920D1FFFF8CBFFFFF5573657247726F75704974656D05000000003000A509000007000080040000009C02000000800000050000805363684772696400C8CEFFFFDEA9FFFF53636F726569640000007000A50900000700008005000000520000000180000047000080436F6E74726F6C89ACC3FFFFEBC7FFFF52656C6174696F6E736869702027464B5F5573657247726F75704974656D5F5573657227206265747765656E2027557365722720616E6420275573657247726F75704974656D270000002800B50100000700008006000000310000005D00000002800000436F6E74726F6C8948C4FFFF31CAFFFF00007400A50900000700008008000000520000000180000049000080436F6E74726F6C89E9D8FFFF22B2FFFF52656C6174696F6E736869702027464B5F5573657247726F75704974656D5F53636F726527206265747765656E202753636F72652720616E6420275573657247726F75704974656D27007D0000002800B50100000700008009000000310000005F00000002800000436F6E74726F6C00D9CBFFFF83B9FFFF00003000A5090000070000800A000000A002000000800000070000805363684772696400A8B2FFFF8EAEFFFF50696374757265000000000000000000000000000000000000000000000000000000000000000000000000000000000000002143341208000000F2130000FB0A0000785634120700000014010000550073006500720000004A002020B612A0AD4F00205DBF1234BA4F000E000000050000000A0000000A000000020000000B000400439C000000000000000000000000000000000000F8DF195D90E543000000000000000000B4E0195D0000000090E543000000000000000000000000000B0000000B0000000B0000000B0000000B0000000B000000000000001B0000008000000004000000DCAFD31210E2195D00000000184D185D0000000038E6430038E6430000000000184D185D000000004CE643004CE643000000000000000000144B185D00000000204B185D000000000000000000000000000000000000000000000000000000000100000005000000540000002C0000002C0000002C000000340000000000000000000000A7290000DD230000000000002D0100000D0000000C000000070000001C010000F70800005307000094020000390300003A020000DD040000DD040000EE020000DD04000036060000380400000000000001000000F2130000FB0A000000000000020000000200000002000000020000001C010000F70800000000000001000000F21300000804000000000000000000000000000002000000020000001C010000F70800000100000000000000F21300000804000000000000000000000000000002000000020000001C010000F7080000000000000000000055320000DD23000000000000000000000D00000004000000040000001C010000F70800009B0A00008106000078563412040000005200000001000000010000000B000000000000000100000002000000030000000400000005000000060000000700000008000000090000000A00000004000000640062006F0000000500000055007300650072000000214334120800000066120000910D00007856341207000000140100005500730065007200470072006F00750070004900740065006D0000002E0046006F0072006D0073002C002000560065007200730069006F006E003D0034002E0030002E0030002E0030002C002000430075006C0074007500720065003D006E00650075007400720061006C002C0020005000750062006C00690063004B006500790054006F006B0065006E003D00620037003700610035006300350036003100390033003400650030003800390000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000005000000540000002C0000002C0000002C0000003400000000000000000000001126000012210000000000002D0100000D0000000C000000070000001C010000160800009F06000094020000390300003A02000065040000DD040000EE020000DD0400003606000038040000000000000100000066120000910D000000000000030000000300000002000000020000001C010000340800000000000001000000661200000804000000000000000000000000000002000000020000001C010000160800000100000000000000661200000804000000000000000000000000000002000000020000001C010000160800000000000000000000E42D00001224000000000000000000000D00000004000000040000001C010000160800008D090000DC05000078563412040000006400000001000000010000000B000000000000000100000002000000030000000400000005000000060000000700000008000000090000000A00000004000000640062006F0000000E0000005500730065007200470072006F00750070004900740065006D000000214334120800000066120000FB0A0000785634120700000014010000530063006F0072006500000000002000560065007200730069006F006E003D0032002E0030002E0030002E0030002C002000430075006C0074007500720065003D006E00650075007400720061006C002C0020005000750062006C00690063004B006500790054006F006B0065006E003D0062003700370061003500630035003600310039003300340065003000380039000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000005000000540000002C0000002C0000002C0000003400000000000000000000002326000012240000000000002D0100000D0000000C000000070000001C010000160800009F06000094020000390300003A02000065040000DD040000EE020000DD0400003606000038040000000000000100000066120000FB0A000000000000020000000200000002000000020000001C010000160800000000000001000000661200000804000000000000000000000000000002000000020000001C010000160800000100000000000000661200000804000000000000000000000000000002000000020000001C010000160800000000000000000000E42D00001224000000000000000000000D00000004000000040000001C010000160800008D090000DC05000078563412040000005400000001000000010000000B000000000000000100000002000000030000000400000005000000060000000700000008000000090000000A00000004000000640062006F00000006000000530063006F0072006500000002000B00D8C4FFFF82C9FFFF20D1FFFF82C9FFFF0000000002000000F0F0F0000000000000000000000000000000000001000000060000000000000048C4FFFF31CAFFFF680D00005801000032000000010000020000680D000058010000020000000000FFFFFF000800008001000000150001000000900144420100065461686F6D61150046004B005F005500730065007200470072006F00750070004900740065006D005F00550073006500720002000B0080DAFFFFD9B4FFFF80DAFFFF8CBFFFFF0000000002000000F0F0F00000000000000000000000000000000000010000000900000000000000D9CBFFFF83B9FFFFF80D00005801000032000000010000020000F80D000058010000020000000000FFFFFF000800008001000000150001000000900144420100065461686F6D61160046004B005F005500730065007200470072006F00750070004900740065006D005F00530063006F00720065002143341208000000D90D0000FB0A000078563412070000001401000050006900630074007500720065000000560065007200730069006F006E003D0032002E0030002E0030002E0030002C002000430075006C0074007500720065003D006E00650075007400720061006C002C0020005000750062006C00690063004B006500790054006F006B0065006E003D0062003700370061003500630035003600310039003300340065003000380039000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000005000000540000002C0000002C0000002C000000340000000000000000000000861F0000E50F0000000000002D0100000D0000000C000000070000001C01000064050000BE05000094020000390300003A020000EE020000DD040000EE020000DD04000036060000380400000000000001000000D90D0000FB0A000000000000020000000200000002000000020000001C010000910500000000000001000000D90D00002204000000000000000000000000000002000000020000001C010000640500000100000000000000D90D00002204000000000000000000000000000002000000020000001C01000064050000000000000000000059200000E624000000000000000000000D00000004000000040000001C0100006405000063060000ED03000078563412040000005800000001000000010000000B000000000000000100000002000000030000000400000005000000060000000700000008000000090000000A00000004000000640062006F00000008000000500069006300740075007200650000000000000000000000000000000000000000000000000000000000000000000100FEFF030A0000FFFFFFFF00000000000000000000000000000000170000004D6963726F736F66742044445320466F726D20322E300010000000456D626564646564204F626A6563740000000000F439B2710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C0000002895FFFF0293FFFF0100260000007300630068005F006C006100620065006C0073005F00760069007300690062006C0065000000010000000B0000000300440064007300530074007200650061006D000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000160002000300000006000000FFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000003F000000DC0900000000000053006300680065006D00610020005500440056002000440065006600610075006C0074000000000000000000000000000000000000000000000000000000000026000200FFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000000000000000000000000000000000000000000000000000000670000001600000000000000440053005200450046002D0053004300480045004D0041002D0043004F004E00540045004E0054005300000000000000000000000000000000000000000000002C0002010500000007000000FFFFFFFF00000000000000000000000000000000000000000000000000000000000000000000000068000000CA0200000000000053006300680065006D00610020005500440056002000440065006600610075006C007400200050006F007300740020005600360000000000000000000000000036000200FFFFFFFFFFFFFFFFFFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000007400000012000000000000001E000000000000000000000000000000000000006400000000000000000000000000000000000000000000000000010000000100000000000000000000000000000000000000D00200000600280000004100630074006900760065005400610062006C00650056006900650077004D006F006400650000000100000008000400000031000000200000005400610062006C00650056006900650077004D006F00640065003A00300000000100000008003A00000034002C0030002C003200380034002C0030002C0032003200390035002C0031002C0031003800370035002C0035002C0031003200340035000000200000005400610062006C00650056006900650077004D006F00640065003A00310000000100000008001E00000032002C0030002C003200380034002C0030002C0032003200390035000000200000005400610062006C00650056006900650077004D006F00640065003A00320000000100000008001E00000032002C0030002C003200380034002C0030002C0032003200390035000000200000005400610062006C00650056006900650077004D006F00640065003A00330000000100000008001E00000032002C0030002C003200380034002C0030002C0032003200390035000000200000005400610062006C00650056006900650077004D006F00640065003A00340000000100000008003E00000034002C0030002C003200380034002C0030002C0032003200390035002C00310032002C0032003700310035002C00310031002C0031003600360035000000030000000300000000000000000000000000000000000000D00200000600280000004100630074006900760065005400610062006C00650056006900650077004D006F006400650000000100000008000400000031000000200000005400610062006C00650056006900650077004D006F00640065003A00300000000100000008003A00000034002C0030002C003200380034002C0030002C0032003000370030002C0031002C0031003600390035002C0035002C0031003100320035000000200000005400610062006C00650056006900650077004D006F00640065003A00310000000100000008001E00000032002C0030002C003200380034002C0030002C0032003100300030000000200000005400610062006C00650056006900650077004D006F00640065003A00320000000100000008001E00000032002C0030002C003200380034002C0030002C0032003000370030000000200000005400610062006C00650056006900650077004D006F00640065003A00330000000100000008001E00000032002C0030002C003200380034002C0030002C0032003000370030000000200000005400610062006C00650056006900650077004D006F00640065003A00340000000100000008003E00000034002C0030002C003200380034002C0030002C0032003000370030002C00310032002C0032003400340035002C00310031002C0031003500300030000000040000000400000000000000000000000000000000000000D00200000600280000004100630074006900760065005400610062006C00650056006900650077004D006F006400650000000100000008000400000031000000200000005400610062006C00650056006900650077004D006F00640065003A00300000000100000008003A00000034002C0030002C003200380034002C0030002C0032003000370030002C0031002C0031003600390035002C0035002C0031003100320035000000200000005400610062006C00650056006900650077004D006F00640065003A00310000000100000008001E00000032002C0030002C003200380034002C0030002C0032003000370030000000200000005400610062006C00650056006900650077004D006F00640065003A00320000000100000008001E00000032002C0030002C003200380034002C0030002C0032003000370030000000200000005400610062006C00650056006900650077004D006F00640065003A00330000000100000008001E00000032002C0030002C003200380034002C0030002C0032003000370030000000200000005400610062006C00650056006900650077004D006F00640065003A00340000000100000008003E00000034002C0030002C003200380034002C0030002C0032003000370030002C00310032002C0032003400340035002C00310031002C00310035003000300000000500000005000000000000003C000000016AA76501000000640062006F00000046004B005F005500730065007200470072006F00750070004900740065006D005F00550073006500720000000000000000000000C40200000000060000000600000005000000080000000125D0120825D0120000000000000000AD0F00000100000800000008000000000000003E000000016AA76501000000640062006F00000046004B005F005500730065007200470072006F00750070004900740065006D005F00530063006F007200650000000000000000000000C4020000000009000000090000000800000008000000017EDA12007EDA120000000000000000AD0F00000100000A0000000A00000000000000000000000000000000000000D00200000600280000004100630074006900760065005400610062006C00650056006900650077004D006F006400650000000100000008000400000031000000200000005400610062006C00650056006900650077004D006F00640065003A00300000000100000008003800000034002C0030002C003200380034002C0030002C0031003300380030002C0031002C0031003400370030002C0035002C003700350030000000200000005400610062006C00650056006900650077004D006F00640065003A00310000000100000008001E00000032002C0030002C003200380034002C0030002C0031003400320035000000200000005400610062006C00650056006900650077004D006F00640065003A00320000000100000008001E00000032002C0030002C003200380034002C0030002C0031003300380030000000200000005400610062006C00650056006900650077004D006F00640065003A00330000000100000008001E00000032002C0030002C003200380034002C0030002C0031003300380030000000200000005400610062006C00650056006900650077004D006F00640065003A00340000000100000008003E00000034002C0030002C003200380034002C0030002C0031003300380030002C00310032002C0031003600330035002C00310031002C00310030003000350000000A000000050000000100000003000000630000005C000000080000000400000003000000270000001E000000000000000000000000000000000000000000000000000000000000000000000000000000010003000000000000000C0000000B0000004E61BC00000000000000000000000000000000000000000000000000000000000000000000000000000000000000DBE6B0E91C81D011AD5100A0C90F57390000020020608880520BD1010202000010484500000000000000000000000000000000007E0100004400610074006100200053006F0075007200630065003D0028006C006F00630061006C0029005C00530051004C0045005800500052004500530053003B0049006E0069007400690061006C00200043006100740061006C006F0067003D004D00690063005000690063007400750072006500440042003B0049006E00740065006700720061007400650064002000530065006300750072006900740079003D0054007200750065003B004D0075006C007400690070006C00650041006300740069007600650052006500730075006C00740053006500740073003D00460061006C00730065003B005000610063006B00650074002000530069007A0065003D0034003000390036003B004100700070006C00690063006100740069006F006E0020004E0061006D0065003D0022004D006900630072006F0073006F00660074002000530051004C00200053006500720076006500720020004D0061006E006100670065006D0065006E0074002000530074007500640069006F002200000000800500120000004400690061006700460075006C006C000000000226000A0000005500730065007200000008000000640062006F000000000226001C0000005500730065007200470072006F00750070004900740065006D00000008000000640062006F000000000226000C000000530063006F0072006500000008000000640062006F00000000022400100000005000690063007400750072006500000008000000640062006F00000001000000D68509B3BB6BF2459AB8371664F0327008004E0000007B00310036003300340043004400440037002D0030003800380038002D0034003200450033002D0039004600410032002D004200360044003300320035003600330042003900310044007D000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010003000000000000000C0000000B0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000062885214
		WHERE [name] = 'Diag_Full';
	END;

IF NOT EXISTS (SELECT * FROM ::fn_listextendedproperty(N'DatabaseVersion' , NULL,NULL, NULL,NULL, NULL,NULL))
	EXEC [MicPictureDB].sys.sp_addextendedproperty @name=N'DatabaseVersion', @value=N'0.1';
ELSE
	EXEC sp_updateextendedproperty @name = N'DatabaseVersion', @value = '0.1';

IF NOT EXISTS (SELECT * FROM ::fn_listextendedproperty(N'ClientCompatibility' , NULL,NULL, NULL,NULL, NULL,NULL))
	EXEC [MicPictureDB].sys.sp_addextendedproperty @name=N'ClientCompatibility', @value=N'1.0.x.x';
ELSE
	EXEC sp_updateextendedproperty @name = N'ClientCompatibility', @value = '1.0.x.x';

/*
-* Following lnes of code are used to override SQL Manager truncating output length of binary field [definition]
-* Do this before updating the values used on field [definition] on table [sysdiagrams]
DECLARE
	@definition varbinary(max);

SELECT @definition = definition
FROM dbo.sysdiagrams
WHERE name = 'DiagFull';

SELECT '0x' + CAST('' AS xml).value('xs:hexBinary(sql:variable("@definition") )'
	, 'varchar(max)')
FOR XML PATH('')
*/